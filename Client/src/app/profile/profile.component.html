<app-header></app-header>

<app-loader [isLoading]="isInfoLoading"></app-loader>

<div *ngIf="profileInfo" class="container border-left border-right">
  <div class="profile-header">
    <div class="row">
      <div class="col-lg-2 col-none text-center text-sm-center text-md-center text-lg-nowrap">
        <img
          src="{{ profileInfo.profileImageUrl }}"
          alt="Profile image"
          class="profile-image img-thumbnail rounded m-lg-2 my-2"
        />
      </div>
      <div class="col-lg col-none">
        <div class="row first-row mb-3 pb-3">
          <div class="col">
            <h3 class="text-center">{{ profileInfo?.userName }}</h3>
          </div>
          <div *ngIf="profileInfo.isFollowing == null" class="col">
            <button class="btn btn-primary">Edit Profile</button>
          </div>
          <div
            *ngIf="
              profileInfo.isFollowing == false &&
              profileInfo.isFollowing != null
            "
            class="col"
          >
            <button (click)="FollowHandler()" class="btn btn-warning">
              Follow
            </button>
          </div>
          <div
            *ngIf="
              profileInfo.isFollowing == true && profileInfo.isFollowing != null
            "
            class="col"
          >
            <button (click)="unFollowHandler()" class="btn btn-danger">
              UnFollow
            </button>
          </div>
        </div>
        <div class="row info-row">
          <div class="col">
            <p>{{ profileInfo?.postsCount }} Posts</p>
          </div>
          <div class="col">
            <p>{{ profileInfo?.followers }} Followers</p>
          </div>
          <div class="col">
            <p>{{ profileInfo?.following }} Following</p>
          </div>
        </div>
        <div class="row p-2 m-0">
          <h4>{{ profileInfo?.firstName }} {{ profileInfo?.lastName }}</h4>
          <hr />
          <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque porro
            animi quam sunt libero omnis voluptates maiores vero hic dolorem.
          </p>
        </div>
      </div>
    </div>
  </div>
  <hr />

  <div class="profile-body">
    <div class="cards">
      <app-post-profile
        *ngFor="let post of profileInfo.posts"
        [post]="post"
      ></app-post-profile>
    </div>
  </div>
</div>
